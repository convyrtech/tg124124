============================================================
            TG Web Auth v0.1.0 — Руководство
============================================================

Программа переносит Telegram-аккаунты (session-файлы)
в браузерные профили для web.telegram.org и fragment.com.

Каждый аккаунт получает изолированный профиль с отдельным
прокси. Профили переносимы между компьютерами.


============================================================
  СИСТЕМНЫЕ ТРЕБОВАНИЯ
============================================================

- Windows 10 или 11 (64-бит)
- Минимум 4 ГБ оперативной памяти (8 ГБ рекомендуется)
- ~500 МБ свободного места + ~50 МБ на каждый профиль
- Стабильное интернет-подключение
- Рабочие SOCKS5 прокси (если используются)


============================================================
  УСТАНОВКА
============================================================

1. Распакуйте TGWebAuth.zip в папку.
   Рекомендуется путь без кириллицы: C:\TGWebAuth\

2. Структура после распаковки:

   TGWebAuth/
   ├── TGWebAuth.exe         ← запуск
   ├── accounts/             ← аккаунты (session-файлы)
   ├── profiles/             ← браузерные профили
   ├── camoufox/             ← встроенный браузер
   └── ...


============================================================
  ПОДГОТОВКА
============================================================

Аккаунты
--------
Скопируйте папки с session-файлами в accounts/.
Каждая папка — один аккаунт:

   accounts/
   ├── Аккаунт_1/
   │   ├── session.session       (обязательно)
   │   └── api.json              (если есть)
   └── Аккаунт_2/
       └── session.session

Либо импортируйте через программу: кнопка "Import Sessions".

Прокси (опционально)
--------------------
Подготовьте .txt файл, по одному прокси на строку:

   host:port:user:pass
   socks5:host:port:user:pass

Правило: один прокси — один аккаунт.


============================================================
  ПОРЯДОК РАБОТЫ
============================================================

1. Запустите TGWebAuth.exe

2. Если аккаунты ещё не в accounts/ — "Import Sessions"

3. Если есть прокси:
   - Вкладка Proxies → "Import Proxies" → выбрать .txt
   - Вкладка Accounts → "Auto-Assign Proxies"

4. "Migrate All" — создание браузерных профилей
   Программа для каждого аккаунта:
   - запускает браузер → web.telegram.org → QR-код
   - считывает QR и подтверждает вход через Telegram API
   - сохраняет профиль
   Пауза между аккаунтами 60-120 сек (защита от бана).
   ~2 минуты на аккаунт.

   Параллельная миграция:
   При большом количестве аккаунтов программа автоматически
   обрабатывает несколько аккаунтов одновременно (до 5 потоков),
   адаптируясь под ресурсы компьютера. Cooldown между аккаунтами
   сохраняется для защиты от бана.

5. "Fragment All" — авторизация на fragment.com
   После миграции аккаунтов через web.telegram.org,
   этот шаг дополнительно авторизует каждый аккаунт
   на fragment.com (NFT usernames, Telegram Stars).
   Используется OAuth-авторизация через существующий профиль.
   ~1.5 минуты на аккаунт.

6. "Open" — открыть браузер с профилем конкретного аккаунта.


============================================================
  ИНТЕРФЕЙС
============================================================

Вкладка Accounts:
  Import Sessions      — загрузить аккаунты из папки
  Migrate All          — миграция всех аккаунтов
  Migrate Selected     — миграция выбранного
  Retry Failed         — повторить неудачные
  Fragment All         — авторизация на fragment.com
  STOP                 — остановить текущий процесс
  Auto-Assign Proxies  — распределить прокси по аккаунтам

В таблице для каждого аккаунта:
  Open     — открыть браузер с профилем
  Migrate  — мигрировать этот аккаунт
  Proxy    — назначить прокси
  Frag     — авторизовать на fragment.com

Статусы: OK = успешно, ~ = в процессе, X = ошибка

Вкладка Proxies:
  Import Proxies   — загрузить прокси из .txt
  Check All        — проверить доступность
  Replace Dead     — заменить недоступные

Вкладка Logs:
  Collect Logs     — собрать логи в ZIP для разработчика


============================================================
  РЕШЕНИЕ ПРОБЛЕМ
============================================================

"Session is not authorized"
  Сессия невалидна. Нужно перевыпустить.

"AuthKeyDuplicated"
  Сессия была использована с разных IP одновременно.
  Нужно перевыпустить.

"Confirmation timeout"
  Telegram не прислал подтверждение.
  Подождите 10-15 минут → "Retry Failed".

"Login button not found on fragment.com"
  Прокси не загружает fragment.com.
  Proxies → Check All → Replace Dead.

Программа не запускается
  Проверьте что в пути нет кириллицы.
  Посмотрите logs/last_crash.txt.

При любой другой ошибке:
  Logs → "Collect Logs" → отправить ZIP разработчику.


============================================================
  ПЕРЕНОС НА ДРУГОЙ ПК
============================================================

Скопируйте папку TGWebAuth/ целиком.
Все аккаунты и профили сохранятся.


============================================================
  ОГРАНИЧЕНИЯ
============================================================

- Не запускайте один аккаунт в двух программах одновременно
- Между повторными запусками batch — пауза 15 минут
- Кнопка STOP завершает текущий аккаунт, потом останавливается
